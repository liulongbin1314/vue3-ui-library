@use './common/function.scss' as fn;
@use './common/mixins.scss';
@use './common/componentVar.scss' as comVar;

// .a-button 是 button 组件基础类名
.a-button {
  // 声明 button 组件的私有变量
  // --a-button-border-color: var(#{fn.getVarName(border-color, default)});
  // --a-button-bg-color: var(#{fn.getVarName(color, white)});
  // --a-button-text-color: var(#{fn.getVarName(text-color, primary)});
  @include mixins.set-component-var(button, comVar.getButtonVar());

  display: inline-flex;
  justify-content: center;
  align-items: center;
  height: 32px;
  min-width: 80px;
  background-color: var(#{fn.getVarName(button, bg-color)});
  border: 2px solid var(#{fn.getVarName(button, border-color)});
  color: var(#{fn.getVarName(button, text-color)});
  font-size: 14px;

  padding: 0 16px;
  box-sizing: border-box;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  transition: 0.3s;
  outline: none;
  cursor: pointer;
  border-radius: 6px;
  user-select: none;
  vertical-align: middle;

  // 按钮 hover 时候的样式
  &:hover {
    background-color: var(#{fn.getVarName(button, hover-bg-color)});
    border-color: var(#{fn.getVarName(button, hover-border-color)});
    color: var(#{fn.getVarName(button, hover-text-color)});
  }

  // 按钮禁用和 loading 时候的样式
  &.is-disabled,
  &.is-loading {
    cursor: not-allowed;
    &,
    &:hover {
      background-color: var(#{fn.getVarName(button, disabled-bg-color)});
      border-color: var(#{fn.getVarName(button, disabled-border-color)});
      color: var(#{fn.getVarName(button, disabled-text-color)});
    }
  }

  // 圆角按钮的类名
  &.is-round {
    border-radius: 100px;
  }

  // 文字按钮的类名
  &.is-text {
    background-color: transparent;
    border-color: transparent;
  }

  // 链接按钮的类名
  &.is-link {
    padding: 0;
    min-width: auto;
    height: auto;
    background-color: transparent;
    border-color: transparent;
    text-decoration: underline 1px solid transparent;
    text-underline-offset: 3px;
    &:hover {
      background-color: transparent;
      border-color: transparent;
    }
  }

  &.is-border {
    &,
    &:hover {
      background-color: transparent;
    }
  }

  &.is-dashed {
    border-style: dashed;
  }

  &.is-block {
    display: block;
    width: 100%;
  }

  &.a-button--size_small {
    height: 24px;
    padding: 0 10px;
    font-size: 12px;
    &.is-circle {
      width: 24px;
    }
    .iconfont {
      font-size: 12px;
    }
  }

  &.a-button--size_large {
    height: 40px;
    font-size: 16px;
    &.is-circle {
      width: 40px;
    }
    .iconfont {
      font-size: 16px;
    }
  }

  &.a-button--size_default {
    &.is-circle {
      width: 32px;
    }
    .iconfont {
      font-size: 14px;
    }
  }

  &.is-circle {
    // 如果按钮是圆形按钮，则把 80px 的最小宽度重置成 auto
    min-width: auto;
    border-radius: 50%;
    padding: 0;
  }

  &.is-button-group {
    border-radius: 0;
    &:first-child {
      border-radius: 6px 0 0 6px;
    }
    &:last-child {
      border-radius: 0 6px 6px 0;
    }
    & + .is-button-group {
      margin-left: -2px;
    }
  }
}

.a-button__inner {
  display: inline-flex;
  gap: 4px;
  align-items: center;
}

// 默认按钮的样式
.a-button--default {
  &.is-text {
    color: #4d5059;
    &:hover {
      background-color: #f5f6fa;
      border-color: #f5f6fa;
    }
  }

  &.is-link {
    color: #4d5059;
    &:hover {
      text-decoration-color: #4d5059;
    }
  }

  &.is-border {
    color: #4d5059;
  }
}

// 主要按钮的样式
.a-button--primary {
  // 如果要引用 :root 中的 CSS 变量，
  // 需要使用 var(变量名) 函数进行引用
  // $var: fn.getVarName(color, primary);
  // background-color: var(#{$var});
  // border-color: var(#{$var});
  // color: #fff;
  // &:hover {
  //   background-color: #6e96ff;
  //   border-color: #6e96ff;
  // }

  // &.is-disabled,
  // &.is-loading {
  //   cursor: not-allowed;
  //   &,
  //   &:hover {
  //     background-color: #98b4ff;
  //     border-color: #98b4ff;
  //     color: #fff;
  //   }
  // }

  // 覆盖 a.a-button 中的 css 变量的值
  // 普通状态
  --a-button-border-color: var(--a-color-primary);
  --a-button-bg-color: var(--a-color-primary);
  --a-button-text-color: var(--a-color-white);
  // hover 状态
  --a-button-hover-border-color: var(--a-color-primary-light-3);
  --a-button-hover-bg-color: var(--a-color-primary-light-3);
  --a-button-hover-text-color: var(--a-color-white);
  // disabled 状态
  --a-button-disabled-border-color: var(--a-color-primary-light-6);
  --a-button-disabled-bg-color: var(--a-color-primary-light-6);
  --a-button-disabled-text-color: var(--a-color-white);

  &.is-text {
    color: #3069ff;
    &:hover {
      background-color: #eaf0ff;
      border-color: #eaf0ff;
    }
  }

  &.is-link {
    color: #3069ff;
    &:hover {
      text-decoration-color: #3069ff;
    }
  }

  &.is-border {
    color: #3069ff;
  }
}

// 成功按钮的样式
.a-button--success {
  // $var: fn.getVarName(color, success);
  // background-color: var(#{$var});
  // border-color: var(#{$var});
  // color: #fff;
  // &:hover {
  //   background-color: #5bdc9b;
  //   border-color: #5bdc9b;
  // }

  // &.is-disabled,
  // &.is-loading {
  //   cursor: not-allowed;
  //   &,
  //   &:hover {
  //     background-color: #8ae6b8;
  //     border-color: #8ae6b8;
  //     color: #fff;
  //   }
  // }

  // 覆盖 a.a-button 中的 css 变量的值
  // 普通状态
  --a-button-border-color: var(--a-color-success);
  --a-button-bg-color: var(--a-color-success);
  --a-button-text-color: var(--a-color-white);
  // hover 状态
  --a-button-hover-border-color: var(--a-color-success-light-3);
  --a-button-hover-bg-color: var(--a-color-success-light-3);
  --a-button-hover-text-color: var(--a-color-white);
  // disabled 状态
  --a-button-disabled-border-color: var(--a-color-success-light-6);
  --a-button-disabled-bg-color: var(--a-color-success-light-6);
  --a-button-disabled-text-color: var(--a-color-white);

  &.is-text {
    color: #14cd70;
    &:hover {
      background-color: #e8faf1;
      border-color: #e8faf1;
    }
  }

  &.is-link {
    color: #14cd70;
    &:hover {
      text-decoration-color: #14cd70;
    }
  }

  &.is-border {
    color: #14cd70;
  }
}

// 警告按钮的样式
.a-button--warning {
  // background-color: #ffa81a;
  // border-color: #ffa81a;
  // color: #fff;
  // &:hover {
  //   background-color: #ffc25f;
  //   border-color: #ffc25f;
  // }

  // &.is-disabled,
  // &.is-loading {
  //   cursor: not-allowed;
  //   &,
  //   &:hover {
  //     background-color: #ffd48d;
  //     border-color: #ffd48d;
  //     color: #fff;
  //   }
  // }

  // 覆盖 a.a-button 中的 css 变量的值
  // 普通状态
  --a-button-border-color: var(--a-color-warning);
  --a-button-bg-color: var(--a-color-warning);
  --a-button-text-color: var(--a-color-white);
  // hover 状态
  --a-button-hover-border-color: var(--a-color-warning-light-3);
  --a-button-hover-bg-color: var(--a-color-warning-light-3);
  --a-button-hover-text-color: var(--a-color-white);
  // disabled 状态
  --a-button-disabled-border-color: var(--a-color-warning-light-6);
  --a-button-disabled-bg-color: var(--a-color-warning-light-6);
  --a-button-disabled-text-color: var(--a-color-white);

  &.is-text {
    color: #ffa81a;
    &:hover {
      background-color: #fff6e8;
      border-color: #fff6e8;
    }
  }

  &.is-link {
    color: #ffa81a;
    &:hover {
      text-decoration-color: #ffa81a;
    }
  }

  &.is-border {
    color: #ffa81a;
  }
}

// 错误按钮的样式
.a-button--error {
  // background-color: #ff4a5b;
  // border-color: #ff4a5b;
  // color: #fff;
  // &:hover {
  //   background-color: #ff808c;
  //   border-color: #ff808c;
  // }

  // &.is-disabled,
  // &.is-loading {
  //   cursor: not-allowed;
  //   &,
  //   &:hover {
  //     background-color: #ffa5ad;
  //     border-color: #ffa5ad;
  //     color: #fff;
  //   }
  // }

  // 覆盖 a.a-button 中的 css 变量的值
  // 普通状态
  --a-button-border-color: var(--a-color-error);
  --a-button-bg-color: var(--a-color-error);
  --a-button-text-color: var(--a-color-white);
  // hover 状态
  --a-button-hover-border-color: var(--a-color-error-light-3);
  --a-button-hover-bg-color: var(--a-color-error-light-3);
  --a-button-hover-text-color: var(--a-color-white);
  // disabled 状态
  --a-button-disabled-border-color: var(--a-color-error-light-6);
  --a-button-disabled-bg-color: var(--a-color-error-light-6);
  --a-button-disabled-text-color: var(--a-color-white);

  &.is-text {
    color: #ff4a5b;
    &:hover {
      background-color: #ffedef;
      border-color: #ffedef;
    }
  }

  &.is-link {
    color: #ff4a5b;
    &:hover {
      text-decoration-color: #ff4a5b;
    }
  }

  &.is-border {
    color: #ff4a5b;
  }
}
